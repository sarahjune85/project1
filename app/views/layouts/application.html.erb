<!DOCTYPE html>
<html>
  <head>
    <title>codeTears</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all' %>
    <!-- highlight.js -->
    <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/atom-one-dark.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
    <%= javascript_pack_tag 'application' %>
    <%= javascript_include_tag "application", defer: true %>
    <%= favicon_link_tag asset_path('favicon2.ico') %>
  </head>
  <body style="padding-bottom: 70px; background-color: #232931; ">
    <nav class="navbar navbar-light">
      <div class="navbar-brand ml-auto">
        <% if @current_user.present? %>
          <%= link_to 'codeTears', dashboard_path, :class => 'tears-logo' %>
          <%= image_tag "tear.png", :style => "height: 40px; margin-bottom: 10px;" %>
        <% else %>
          <%= link_to 'codeTears', root_path, :class => 'tears-logo'%>
          <%= image_tag "tear.png", :style => "height: 40px; margin-bottom: 10px;" %>
        <% end %>
      </div>
      <ul class="nav justify-content-end" style="font-size: 1em; padding-top: 10px; margin-bottom: 10px;">
        <% if @current_user.present? %>
          <!-- if user logged in, show log out by making session#destoy request from routes -->
          <li class="nav-item">
            <%= link_to 'All Boards', dashboard_path, :class => 'nav-link text-light' %>
          </li>
          <li class="nav-item">
            <%= link_to "New Board", new_board_path, :class => 'nav-link text-light'  %>
          </li>
          <li class="nav-item">
            <%= link_to "Pinned Snippets", pages_pinned_path, :class => 'nav-link text-light'%>
          </li>
          <li class="nav-item">
            <%= link_to "Log out #{ @current_user.name }", login_path, :method => 'delete', :class => 'nav-link text-light'  %>
          </li>
        <% else %>
          <li class="nav-item">
            <%= link_to 'Sign up', new_user_path, :class => 'nav-link text-light' %>
          </li>
          <li class="nav-item">
            <%= link_to 'Sign in', login_path, :class => 'nav-link text-light' %>
          </li>
        <% end %>
      </ul>
    </nav>
    <div>
      <%= yield %>
    </div>
    <footer style="padding-top: 50px;">
      <div class="d-flex justify-content-center">
        <div class="container">
          <div class="row text-center">
            <div data-controller="geolocation">
              <!-- displays lat/lon -->
              <div class="copyright_text text-light">
                <p><a href="https://spinditty.com/playlists/Songs-About-Crying-and-Tears" class="text-decoration-none" style="color: white; margin-top: 10px;">Contact Us <small>&#9400;  2021</a></p>
                </div>
                <button data-action="geolocation#geolocate" class="btn joker justify-content-start">I know where you live!</button>
                <p>
                  <br>
                  <a data-geolocation-target="link" class="text-light text-decoration-none"></a></p>
              </div>
            </div>
          </div>
        </footer>
        <script>
          hljs.highlightAll();
        </script>
      </body>
    </html>
